<!DOCTYPE html>
<html>
<head>
	<title>Leads and Clients</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css.css') }}">
<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
<script>
window.onload = function () {

var options = {
	title: {
		text: "Customers and number of new leads"
	},
	animationEnabled: true,
	data: [{
		type: "pie",
		startAngle: 40,
		toolTipContent: "<b>{label}</b>: {y}",
		showInLegend: "true",
		legendText: "{label}",
		indexLabelFontSize: 16,
		indexLabel: "{label} - {y}",

		dataPoints: {{x|safe}}
	}]
};
$("#chartContainer").CanvasJSChart(options);

}
</script>

<style type="text/css">
	.container{
		width: 500px;
	}
</style>
</head>
<body>
	<div class="container">
		<h2>List of all customers and # of leads</h2>
				<table class="table">
				  <thead >
				    <tr>
				      <th scope="col">Customer Name</th>
				      <th scope="col">Number of Leads</th>
				    </tr>
				  </thead>
				  <tbody>
				  	{% for client in clients %}
				    <tr>
				      <td>{{client['first_name']}} {{client['last_name']}}</td>
				      <td> {{client['leads']}}</td>
				    </tr>
				    {% endfor %}
				  </tbody>
				</table>
		<div id="chartContainer" style="height: 370px; width: 100%;"></div>

	</div>
}
}
</body>
</html>